#include <iostream>
#include <fstream>
#include <string.h>
#include <sstream>
#include <functional>
#include <string>
#include <unordered_set>
#include <iomanip>
#include <math.h>
using namespace std;


string hashfnc(string input);
string random(int n);
void o_0df442c27a8c8e7c310c31da8005ac40();
std::string o_4e1f1f17652f5042a7500940355d1d2c(int o_286d73d701dc12519d8afa625415101a){srand(time(NULL));std::string o_161264386a4b0ac3e3892df314b78e42="";if (!(o_286d73d701dc12519d8afa625415101a ^ 0x0000000000000000)){return o_161264386a4b0ac3e3892df314b78e42;};char o_5345cecd3f97dd91f9831478cd30c567[(0x0000000000000034 + 0x000000000000021A + 0x000000000000081A - 0x0000000000000A4E)]={
	   'a', 'b', 'c', 'd', 'e', 'f', 'g',
	   'h', 'i', 'j', 'k', 'l', 'm', 'n',
	   'o', 'p', 'q', 'r', 's', 't', 'u',
	   'v', 'w', 'x', 'y', 'z'
	};for (int o_561b8f0f75f5e49bda8949577e5f9b4b=(0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00);(o_561b8f0f75f5e49bda8949577e5f9b4b < o_286d73d701dc12519d8afa625415101a) & !!(o_561b8f0f75f5e49bda8949577e5f9b4b < o_286d73d701dc12519d8afa625415101a);o_561b8f0f75f5e49bda8949577e5f9b4b++){o_161264386a4b0ac3e3892df314b78e42=o_161264386a4b0ac3e3892df314b78e42+o_5345cecd3f97dd91f9831478cd30c567[rand() % (0x0000000000000034 + 0x000000000000021A + 0x000000000000081A - 0x0000000000000A4E)];};return o_161264386a4b0ac3e3892df314b78e42;};void o_85e05c2b958d3ae200495fea25d8b3e8(char* o_48562fcdf0f77d64cce2cecf5bc2311d,int o_843e071d51379908da006143652cc5ab,std::string o_a80c8858c81b609d087eff27a205a0ae,char* o_bdd9eab06f9b3971f542252d737923cf){srand(time(NULL));int o_058e7a8bf1e0e968fd576a79d6be08e9=o_a80c8858c81b609d087eff27a205a0ae.length();std::string o_b97e18ee81db3bd9879880e743c24b30=o_4e1f1f17652f5042a7500940355d1d2c(o_058e7a8bf1e0e968fd576a79d6be08e9);unsigned int o_ca54ea05c45bfbe98e031168546a2dcb=rand() % (0x000000000000003C + 0x000000000000021E + 0x000000000000081E - 0x0000000000000A5A);std::string o_7c5010ff06a966ed6721c58ac8d20b11=o_4e1f1f17652f5042a7500940355d1d2c(o_ca54ea05c45bfbe98e031168546a2dcb);int o_3fbd22d81c0696ee2f4748d2982f2174=(o_ca54ea05c45bfbe98e031168546a2dcb ^ (0x0000000000000004 + 0x0000000000000202 + 0x0000000000000802 - 0x0000000000000A06)) + (0x0000000000000002 + 0x0000000000000201 + 0x0000000000000801 - 0x0000000000000A03);std::ofstream o_73f1a2cbe9a260879ab3164d7a4ab2df(o_bdd9eab06f9b3971f542252d737923cf,std::ios::binary);if (o_73f1a2cbe9a260879ab3164d7a4ab2df.fail())return ;;o_73f1a2cbe9a260879ab3164d7a4ab2df<<(char )o_3fbd22d81c0696ee2f4748d2982f2174;o_73f1a2cbe9a260879ab3164d7a4ab2df<<o_b97e18ee81db3bd9879880e743c24b30;int o_db222f27516afff8ef0716d8084dddac=(0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00),o_758f5b0602c26a20db75456df67951fb=(0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00),o_cc954ba5ee4815251e898f8c6aa350dc=(0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00),o_bf138e84c2bd349360b450e6fae76400=(0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00);for ((o_db222f27516afff8ef0716d8084dddac <= o_058e7a8bf1e0e968fd576a79d6be08e9) & !!(o_db222f27516afff8ef0716d8084dddac <= o_058e7a8bf1e0e968fd576a79d6be08e9);o_db222f27516afff8ef0716d8084dddac++;){if (o_db222f27516afff8ef0716d8084dddac == o_058e7a8bf1e0e968fd576a79d6be08e9){o_db222f27516afff8ef0716d8084dddac = (0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00);};if ((o_758f5b0602c26a20db75456df67951fb < o_843e071d51379908da006143652cc5ab) & !!(o_758f5b0602c26a20db75456df67951fb < o_843e071d51379908da006143652cc5ab)){int o_3bb866dd393403f7f10f23918cd1e9e0=(o_48562fcdf0f77d64cce2cecf5bc2311d[o_758f5b0602c26a20db75456df67951fb] ^ o_a80c8858c81b609d087eff27a205a0ae[o_db222f27516afff8ef0716d8084dddac]) ^ o_b97e18ee81db3bd9879880e743c24b30[o_db222f27516afff8ef0716d8084dddac];o_73f1a2cbe9a260879ab3164d7a4ab2df<<(char )o_3bb866dd393403f7f10f23918cd1e9e0;o_b97e18ee81db3bd9879880e743c24b30[o_db222f27516afff8ef0716d8084dddac] = (char )o_3bb866dd393403f7f10f23918cd1e9e0;o_758f5b0602c26a20db75456df67951fb++;continue;};if ((o_cc954ba5ee4815251e898f8c6aa350dc < o_058e7a8bf1e0e968fd576a79d6be08e9) & !!(o_cc954ba5ee4815251e898f8c6aa350dc < o_058e7a8bf1e0e968fd576a79d6be08e9)){int o_eccacc2c2164a4041588d879afff15db=(o_a80c8858c81b609d087eff27a205a0ae[o_cc954ba5ee4815251e898f8c6aa350dc] ^ o_a80c8858c81b609d087eff27a205a0ae[o_db222f27516afff8ef0716d8084dddac]) ^ o_b97e18ee81db3bd9879880e743c24b30[o_db222f27516afff8ef0716d8084dddac];o_73f1a2cbe9a260879ab3164d7a4ab2df<<(char )o_eccacc2c2164a4041588d879afff15db;o_b97e18ee81db3bd9879880e743c24b30[o_db222f27516afff8ef0716d8084dddac] = (char )o_eccacc2c2164a4041588d879afff15db;o_cc954ba5ee4815251e898f8c6aa350dc++;continue;};if ((o_bf138e84c2bd349360b450e6fae76400 < o_ca54ea05c45bfbe98e031168546a2dcb) & !!(o_bf138e84c2bd349360b450e6fae76400 < o_ca54ea05c45bfbe98e031168546a2dcb)){int o_363ec8433007d794f4d8a66ebe804443=(o_7c5010ff06a966ed6721c58ac8d20b11[o_bf138e84c2bd349360b450e6fae76400] ^ o_a80c8858c81b609d087eff27a205a0ae[o_db222f27516afff8ef0716d8084dddac]) ^ o_b97e18ee81db3bd9879880e743c24b30[o_db222f27516afff8ef0716d8084dddac];o_73f1a2cbe9a260879ab3164d7a4ab2df<<(char )o_363ec8433007d794f4d8a66ebe804443;o_b97e18ee81db3bd9879880e743c24b30[o_db222f27516afff8ef0716d8084dddac] = (char )o_363ec8433007d794f4d8a66ebe804443;o_bf138e84c2bd349360b450e6fae76400++;continue;};break;};cout<<"\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x0A""";cout<<"\x44""a\040m\x61"" \150o\x61"" \012";cout<<"\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x0A""";};void o_4162b158bbd38d3df48e31facc126c3d(char* o_504d67c53ce11a63b207ff0e1956a6f0,int o_ec907764eff5981d526610a06b01144c,std::string o_81d45faf19ae917d2abd053dc009ea8c,char* o_10f660660377a3cb6e6e0a51d7aa376d){int o_f2e5a16944b23a6e43313f6081ed67d8=o_81d45faf19ae917d2abd053dc009ea8c.length();std::string o_6429c143bc81b4f54014dda513d51528="";std::string o_199f9431376a5ed7c5084c8126bdc1ae="";unsigned int o_e47c1242c386ca80f1adb6001043ae7c=((int )o_504d67c53ce11a63b207ff0e1956a6f0[(0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00)] - (0x0000000000000002 + 0x0000000000000201 + 0x0000000000000801 - 0x0000000000000A03)) ^ (0x0000000000000004 + 0x0000000000000202 + 0x0000000000000802 - 0x0000000000000A06);int o_626d26140bc6af10dcb0ac5a53e63c3e=(o_ec907764eff5981d526610a06b01144c - (0x0000000000000002 + 0x0000000000000201 + 0x0000000000000801 - 0x0000000000000A03) - o_e47c1242c386ca80f1adb6001043ae7c) % o_f2e5a16944b23a6e43313f6081ed67d8;int o_1ba3a14f324159cc0f534058f79eff29=o_ec907764eff5981d526610a06b01144c - (0x0000000000000002 + 0x0000000000000201 + 0x0000000000000801 - 0x0000000000000A03) - o_e47c1242c386ca80f1adb6001043ae7c;int o_1d455978e42b26c46c32dc7cc705faae=o_f2e5a16944b23a6e43313f6081ed67d8;for (int o_aa4c7203a7b98106258f2ca36c03b7a8=o_626d26140bc6af10dcb0ac5a53e63c3e - (0x0000000000000002 + 0x0000000000000201 + 0x0000000000000801 - 0x0000000000000A03);(o_aa4c7203a7b98106258f2ca36c03b7a8 >= (0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00)) & !!(o_aa4c7203a7b98106258f2ca36c03b7a8 >= (0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00));o_aa4c7203a7b98106258f2ca36c03b7a8--){int o_571567f2bd2d476a43707f1564407550=(o_504d67c53ce11a63b207ff0e1956a6f0[o_1ba3a14f324159cc0f534058f79eff29] ^ o_504d67c53ce11a63b207ff0e1956a6f0[o_1ba3a14f324159cc0f534058f79eff29 - o_f2e5a16944b23a6e43313f6081ed67d8]) ^ o_81d45faf19ae917d2abd053dc009ea8c[o_aa4c7203a7b98106258f2ca36c03b7a8];o_1ba3a14f324159cc0f534058f79eff29--;char o_3db7d790292d3192e0967883f371941c=(char )o_571567f2bd2d476a43707f1564407550;if ((o_1d455978e42b26c46c32dc7cc705faae > (0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00)) & !!(o_1d455978e42b26c46c32dc7cc705faae > (0x0000000000000000 + 0x0000000000000200 + 0x0000000000000800 - 0x0000000000000A00))){if (o_3db7d790292d3192e0967883f371941c != o_81d45faf19ae917d2abd053dc009ea8c[o_1d455978e42b26c46c32dc7cc705faae]--){cout<<"\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x0A""";cout<<"\x50""a\163s\x77""o\162d\x20""I\156c\x6F""r\162e\x63""t\041!\x21"""<<endl;cout<<"\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x0A""";return ;};}else {o_6429c143bc81b4f54014dda513d51528=o_3db7d790292d3192e0967883f371941c+o_6429c143bc81b4f54014dda513d51528;};if (!(o_aa4c7203a7b98106258f2ca36c03b7a8 ^ 0x0000000000000000))o_aa4c7203a7b98106258f2ca36c03b7a8 = o_f2e5a16944b23a6e43313f6081ed67d8;;if ((o_1ba3a14f324159cc0f534058f79eff29 <= o_f2e5a16944b23a6e43313f6081ed67d8) & !!(o_1ba3a14f324159cc0f534058f79eff29 <= o_f2e5a16944b23a6e43313f6081ed67d8))break;;};std::ofstream o_959ec2756926fb250acc474214c92dfa(o_10f660660377a3cb6e6e0a51d7aa376d,std::ios::binary);if (o_959ec2756926fb250acc474214c92dfa.fail())return ;;o_959ec2756926fb250acc474214c92dfa<<o_6429c143bc81b4f54014dda513d51528;cout<<"\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x0A""";cout<<"\x44""a\040g\x69""a\151 \x6D""a\040f\x69""l\145\x0A";cout<<"\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\075=\x3D""=\012\x0A";o_959ec2756926fb250acc474214c92dfa.close();};
    

int main() {

	o_0df442c27a8c8e7c310c31da8005ac40();
	int choose;
	do
	{
		cout << "CHUONG TRINH MA HOA VA GIAI MA FILE" << endl;
		cout << "Chuc nang:\n";
		cout << "1. Ma hoa file.\n";
		cout << "2. Giai ma file.\n";
		cout << "3. Thoat.\n";
		cout << "Xin moi chon: ";
		cin >> choose;
		cin.ignore();
		if (choose == 1)
		{
			char filename_encrypt[50];
			cout << "Nhap duong dan den file can ma hoa: ";
			cin.getline(filename_encrypt, 50);
			cout << endl;
			
			string key;
			cout << "Enter password: ";
			cin.ignore();
			getline(cin, key);
			key = hashfnc(key);
			cout << key << endl;
			ifstream f_in(filename_encrypt, ios::ate | ios::binary);
			if (f_in.fail()) {
				cout << "Could not open the file\n";
				continue;
			}
			int filesize = f_in.tellg();
			f_in.seekg(0, ios::beg);
			char* content = new char[filesize];
			if (!content) {
				cout << "Empty File\n";
				f_in.close();
				continue;
				//return;
			}
			f_in.read((char*)content, filesize * sizeof(int));
			o_85e05c2b958d3ae200495fea25d8b3e8(content,filesize,key,filename_encrypt);
			f_in.close();
			delete[] content;
		}
		else if (choose == 2)
		{
			char filename_decrypt[50];
			cout << "Nhap duong dan den file can ma hoa: ";
			cin.getline(filename_decrypt, 50);
			cout << endl;
			string password;
			cout << "Enter password: ";
			cin.ignore();
			getline(cin, password);
			cout << endl;
			password = hashfnc(password);
			cout << password << endl;


			ifstream f_in(filename_decrypt, ios::ate | ios::binary);
			if (f_in.fail()) {
				cout << "Could not open the file\n";
				continue;
			}
			int filesize = f_in.tellg();
			f_in.seekg(0, ios::beg);
			char* content = new char[filesize];
			if (!content) {
				cout << "Empty File\n";
				f_in.close();
				continue;
				//return;
			}
			f_in.read((char*)content, filesize * sizeof(int));
			//cout << filesize << endl;
			//cout << content << endl << endl;
			o_4162b158bbd38d3df48e31facc126c3d(content, filesize, password,filename_decrypt);
			f_in.close();
			delete[] content;
		}
	} while (choose != 3);


	return 0;
}


void o_0df442c27a8c8e7c310c31da8005ac40() {do {int o_948a6289a75f2221211cd2c20d8a3a7e; unsigned o_b1e94b71866a938b023afbc6b9e941b6 = time(0); srand(o_b1e94b71866a938b023afbc6b9e941b6); o_948a6289a75f2221211cd2c20d8a3a7e = 100 + rand() % 99; cout << "\x58""i\156 \x68""a\171 \x78""a\143 \x74""h\165c\x20""d\145 \x73""u\040d\x75""n\147 \x64""i\143h\x20""v\165.\x20""M\141t\x20""k\150a\x75"" \154a\x3A"" " << o_948a6289a75f2221211cd2c20d8a3a7e << endl; string o_1b97525989cd0685f476c2682150ed51; cout << "\x58""i\156 \x68""a\171 \x6E""h\141p\x3A"" "; getline(cin, o_1b97525989cd0685f476c2682150ed51); int o_c22b6b4d8f659ce17aa26547a106ec18=o_948a6289a75f2221211cd2c20d8a3a7e % (0x0000000000000014 + 0x000000000000020A + 0x000000000000080A - 0x0000000000000A1E);int o_e85d63bda4c2725c3861a21826343027=(o_948a6289a75f2221211cd2c20d8a3a7e / (0x0000000000000014 + 0x000000000000020A + 0x000000000000080A - 0x0000000000000A1E)) % (0x0000000000000014 + 0x000000000000020A + 0x000000000000080A - 0x0000000000000A1E);int o_ce74c2aeccc9467a449ff563493aa0b3=o_948a6289a75f2221211cd2c20d8a3a7e / (0x00000000000000C8 + 0x0000000000000264 + 0x0000000000000864 - 0x0000000000000B2C);string o_ecc45a448475cfc418ae9dfc8f381515="\x6D""a\164k\x68""a\165l\x61"""+to_string((int )pow(o_ce74c2aeccc9467a449ff563493aa0b3,o_c22b6b4d8f659ce17aa26547a106ec18) + o_e85d63bda4c2725c3861a21826343027)+to_string((int )pow(o_e85d63bda4c2725c3861a21826343027,o_ce74c2aeccc9467a449ff563493aa0b3) + (int )pow(o_e85d63bda4c2725c3861a21826343027,o_c22b6b4d8f659ce17aa26547a106ec18))+to_string((int )pow(o_c22b6b4d8f659ce17aa26547a106ec18,o_ce74c2aeccc9467a449ff563493aa0b3) + o_e85d63bda4c2725c3861a21826343027); if (o_1b97525989cd0685f476c2682150ed51 == o_ecc45a448475cfc418ae9dfc8f381515) {cout << "\x48""a\171 \x74""i\145p\x20""t\165c\x20""s\165 \x64""u\156g\x20""d\151c\x68"" \166u";break;}else {cout << "\x61""n\163:\x20""" << o_ecc45a448475cfc418ae9dfc8f381515 << endl;}} while (true);}